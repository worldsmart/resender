webpackJsonp([0],{0:function(t,e){},"3grW":function(t,e){},"4+AW":function(t,e){},"69o7":function(t,e){},HwFU:function(t,e){},JHp6:function(t,e){},MAqr:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s={},n={name:"navbar",methods:{logout:function(){s.user={},localStorage.removeItem("jwt"),window.location.reload()},updateUser:function(){s.user?(this.loggedIn=!0,this.user=s.user):setTimeout(this.updateUser,200)}},data:function(){return{loggedIn:!!s.user,user:void 0}},created:function(){this.updateUser()}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top py-3",attrs:{id:"mainNav"}},[i("div",{staticClass:"container"},[i("a",{staticClass:"navbar-brand js-scroll-trigger",attrs:{href:"/"}},[t._v("MAILER")]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarResponsive"}},[i("ul",{staticClass:"navbar-nav ml-auto my-2 my-lg-0"},[i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link js-scroll-trigger",class:"/"==t.$route.path?"active":"",attrs:{to:"/"}},[t._v("All")])],1),t._v(" "),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link js-scroll-trigger",class:"/new"==t.$route.path?"active":"",attrs:{to:t.$route.path!="/"+t.$route.params.id&&"/"!=t.$route.fullPath&&"/new"!=t.$route.fullPath&&"/marked"!=t.$route.fullPath&&"/spam"!=t.$route.fullPath?"/mailbox/"+t.$route.params.id+"/new":"/new"}},[t._v("New")])],1),t._v(" "),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link js-scroll-trigger",class:"/marked"==t.$route.path?"active":"",attrs:{to:t.$route.path!="/"+t.$route.params.id&&"/"!=t.$route.fullPath&&"/new"!=t.$route.fullPath&&"/marked"!=t.$route.fullPath&&"/spam"!=t.$route.fullPath?"/mailbox/"+t.$route.params.id+"/marked":"/marked"}},[t._v("Marked")])],1),t._v(" "),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link js-scroll-trigger",class:"/spam"==t.$route.path?"active":"",attrs:{to:t.$route.path!="/"+t.$route.params.id&&"/"!=t.$route.fullPath&&"/new"!=t.$route.fullPath&&"/marked"!=t.$route.fullPath&&"/spam"!=t.$route.fullPath?"/mailbox/"+t.$route.params.id+"/spam":"/spam"}},[t._v("Spam")])],1),t._v(" "),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link js-scroll-trigger",class:"/send"==t.$route.path?"active":"",attrs:{to:"/send"}},[t._v("Write")])],1),t._v(" "),i("li",{staticClass:"nav-item",on:{click:function(e){return t.logout()}}},[i("router-link",{staticClass:"nav-link js-scroll-trigger",attrs:{to:"#"}},[t._v("Logout")])],1),t._v(" "),i("li",{staticClass:"nav-item"},[i("div",{staticStyle:{margin:"0 0 0 20px"},attrs:{id:"email"}},[i("router-link",{staticClass:"nav-link js-scroll-trigger",class:"/mailbox"==t.$route.path?"active":"",attrs:{to:"/mailbox"}},[t._v(t._s(t.user.email+"@onyame.ml"))])],1)])])])])]),t._v(" "),i("div",{staticClass:"req"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler navbar-toggler-right",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]};var o={name:"app-footer",data:function(){return{count:(new Date).getFullYear()}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("footer",[e("div",{staticClass:"copiright"},[this._v("Personal mail client ")]),this._v(" "),e("div",{staticClass:"copiright"},[this._v(" Copyright "+this._s(this.count)+" ©")])])},staticRenderFns:[]};var c={name:"App",components:{Navbar:i("VU/8")(n,r,!1,function(t){i("JHp6")},"data-v-3f6f245a",null).exports,AppFooter:i("VU/8")(o,l,!1,function(t){i("69o7")},"data-v-3531a421",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"min-height":"100vh",display:"flex","flex-direction":"column",overflow:"hidden"},attrs:{id:"app"}},[e("navbar"),this._v(" "),e("router-view"),this._v(" "),e("app-footer")],1)},staticRenderFns:[]},u=i("VU/8")(c,d,!1,null,null,null).exports,m=i("/ocq"),h={name:"login",data:function(){return{errors:{email:!1,password:!1,text:""},data:{email:"",password:""},loading:!1}},methods:{mailValidate:function(t){this.errors.email=!1,t.value?/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]{2,}$/.test(t.value)?(t.classList.remove("invalid"),t.className+=" valid"):(t.classList.remove("valid"),t.className+=" invalid",this.errors.email=!0):(t.classList.remove("valid"),t.classList.remove("invalid"))},passwordValidate:function(t){this.errors.password=!1,t.value?/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(t.value)?(t.classList.remove("invalid"),t.className+=" valid"):(t.classList.remove("valid"),t.className+=" invalid",this.errors.password=!0):(t.classList.remove("valid"),t.classList.remove("invalid"))},onSubmit:function(){var t=this;if(!this.errors.email&&!this.errors.password&&this.data.email&&this.data.password){this.loading=!0;this.$http.post("/api/server_login",{email:this.data.email,password:this.data.password},{headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(e){t.loading=!1,e.body.jwt?(localStorage.setItem("jwt",e.body.jwt),localStorage.setItem("email",e.body.email),s.user=e.body,t.$router.push("/")):t.errors.text="*"+e.body.err})}}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("form",{staticClass:"login_form card-panel teal lighten-2"},[i("div",{staticClass:"title"},[t._v("Login:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"field",attrs:{placeholder:"username",id:"login",type:"text"},domProps:{value:t.data.email},on:{input:[function(e){e.target.composing||t.$set(t.data,"email",e.target.value)},function(e){return t.mailValidate(e.target)}]}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"field",attrs:{placeholder:"password",id:"password",type:"password"},domProps:{value:t.data.password},on:{input:[function(e){e.target.composing||t.$set(t.data,"password",e.target.value)},function(e){return t.passwordValidate(e.target)}]}}),t._v(" "),t.errors.text?i("div",{staticClass:"danger"},[t._v(t._s(t.errors.text))]):t._e(),t._v(" "),i("div",{staticClass:"btn waves-effect waves-light submit",on:{click:function(e){return t.onSubmit()}}},[t._v("Submit\n      "),i("i",{staticClass:"material-icons right"},[t._v("send")])])])])},staticRenderFns:[]};var p=i("VU/8")(h,v,!1,function(t){i("No7Y")},"data-v-38e84057",null).exports,g={name:"app-main",data:function(){return{counter:1,msgData:[],countMsg:1,multiSelect:[],loading:!1,filter:""}},created:function(){this.getMsgs()},computed:{maxPage:function(){var t=this.countMsg-this.countMsg%20;return t/=20,this.countMsg%20&&t++,t}},methods:{markAll:function(){for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].click()},addSelect:function(t){this.multiSelect.filter(function(e){return e==t})[0]?this.multiSelect=this.multiSelect.filter(function(e){return e!=t}):this.multiSelect.push(t)},reload:function(){this.counter=1,this.multiSelect=[],this.uncheckAll(),this.getMsgs(),window.scrollTo(0,0)},clickLeft:function(){this.counter<=1||(this.counter--,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},clickRight:function(){this.counter>=this.maxPage||(this.counter++,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},getMsgs:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0;var i={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-for":this.$route.params.id,"X-index":e.toString(),"X-filter":this.filter,"X-type":"default"};this.$http.get("/api/massages",{headers:i}).then(function(e){t.loading=!1,e.body&&(t.countMsg=e.body.lengthMsg,t.msgData=e.body.data)})},uncheckAll:function(){this.multiSelect=[];for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].checked=!1},delMsg:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/deleteMsg",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},addToSpmam:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/addToSpam",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},mark:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/mark",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},read:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/read",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"root"},[t.multiSelect[0]?i("div",{staticClass:"options"},[i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.mark}},[t._v("Mark")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.read}},[t._v("Mark as read")])]),t._v(" "),i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.addToSpmam}},[t._v("Mark as spam")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.delMsg}},[t._v("Delete")])])]):t._e(),t._v(" "),t.multiSelect[0]?i("div",{staticClass:"pusher"}):t._e(),t._v(" "),i("div",{staticClass:"page"},[i("div",{staticClass:"func",staticStyle:{"border-bottom":"1px solid rgb(191, 195, 201)",padding:"5px"}},[i("div",{staticStyle:{"margin-right":"auto",cursor:"pointer"},on:{click:t.markAll}},[i("i",{staticClass:"material-icons"},[t._v("done_all")])]),t._v(" "),i("div",{staticClass:"func",staticStyle:{"flex-grow":"1","margin-left":"15px"}},[i("div",{staticStyle:{display:"flex","align-items":"center","flex-grow":"1"}},[i("i",{staticClass:"material-icons",staticStyle:{"margin-right":"3px"}},[t._v("search")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticStyle:{"min-width":"200px",width:"45%"},attrs:{placeholder:"Search",id:"icon_prefix",type:"text"},domProps:{value:t.filter},on:{input:[function(e){e.target.composing||(t.filter=e.target.value)},function(e){return t.getMsgs()}]}})]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto","align-items":"center","justify-content":"center","margin-right":"15px"}},[i("div",{staticStyle:{margin:"5px 10px 0 0",cursor:"pointer"},on:{click:t.reload}},[i("i",{staticClass:"material-icons"},[t._v("refresh")])]),t._v(" "),i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n            "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n          ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])]),t._v(" "),i("div",{staticClass:"massages",attrs:{id:"msgBox"}},[t._l(t.msgData,function(e){return i("div",{staticClass:"msgBody",class:e.read?"read":""},[i("input",{staticClass:"checkboxMsg",attrs:{type:"checkbox"},domProps:{value:e.id?e.id:""},on:{click:function(e){return t.addSelect(e.target.value)}}}),t._v(" "),i("router-link",{staticClass:"msg",attrs:{to:e.id?t.$route.params.id?"/mailbox/"+t.$route.params.id+"/"+e.id:"/"+e.id:"/"}},[i("div",{staticClass:"from"},[t._v(t._s(e.from))]),t._v(" "),i("div",{staticClass:"subj"},[t._v(t._s(e.subject))]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto"}},[e.marked?i("i",{staticClass:"material-icons"},[t._v("bookmark_border")]):t._e(),t._v(" "),i("div",[t._v(t._s(e.date))])])])],1)}),t._v(" "),t.msgData[0]?t._e():i("div",{staticStyle:{margin:"10px"}},[t._v("No massages yet")])],2)]),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","border-top":"1px solid rgb(191, 195, 201)",margin:"5px 26px"}},[i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n      "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n    ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])},staticRenderFns:[]};var _=i("VU/8")(g,f,!1,function(t){i("hGFa")},"data-v-3c6b2773",null).exports,y={name:"app-mailboxes",data:function(){return{mailboxes:[],filter:""}},created:function(){var t=this,e={"Content-Type":"application/json",authorization:localStorage.getItem("jwt")};this.$http.get("/api/mailboxes",{headers:e}).then(function(e){t.mailboxes=e.body;for(var i=0;i<t.mailboxes.length;i++)t.mailboxes[i]=t.mailboxes[i].substring(0,t.mailboxes[i].indexOf("."))})},computed:{filtered:function(){var t=this;return this.mailboxes.filter(function(e){return!t.filter||!!(e+"@onyame.ml").match(t.filter)})}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-panel teal box"},[i("div",{staticClass:"input-field"},[i("label",{staticStyle:{color:"#f4623a"},attrs:{for:"icon_prefix"}},[t._v("Filter:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"validate",attrs:{id:"icon_prefix",type:"text"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"boxholder"},[t._l(t.filtered,function(e){return i("router-link",{staticClass:"mailbox",attrs:{to:"/mailbox/"+e}},[t._v("\n      "+t._s(e+"@onyame.ml")+"\n    ")])}),t._v(" "),t.filtered[0]?t._e():i("div",[t._v("No results")])],2),t._v(" "),i("div",{staticClass:"input-field",staticStyle:{"border-bottom":"none","border-top":"1px solid rgb(191, 195, 201)"}})])},staticRenderFns:[]};var S=i("VU/8")(y,x,!1,function(t){i("PwQm")},"data-v-d2cd4666",null).exports,C={name:"app-marked",data:function(){return{counter:1,msgData:[],countMsg:1,multiSelect:[],loading:!1,filter:""}},created:function(){this.getMsgs()},computed:{maxPage:function(){var t=this.countMsg-this.countMsg%20;return t/=20,this.countMsg%20&&t++,t}},methods:{markAll:function(){for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].click()},addSelect:function(t){this.multiSelect.filter(function(e){return e==t})[0]?this.multiSelect=this.multiSelect.filter(function(e){return e!=t}):this.multiSelect.push(t)},reload:function(){this.counter=1,this.multiSelect=[],this.uncheckAll(),this.getMsgs(),window.scrollTo(0,0)},clickLeft:function(){this.counter<=1||(this.counter--,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},clickRight:function(){this.counter>=this.maxPage||(this.counter++,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},getMsgs:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0;var i={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-for":this.$route.params.id,"X-index":e.toString(),"X-filter":this.filter,"X-type":"marked"};this.$http.get("/api/massages",{headers:i}).then(function(e){t.loading=!1,e.body&&(t.countMsg=e.body.lengthMsg,t.msgData=e.body.data)})},uncheckAll:function(){this.multiSelect=[];for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].checked=!1},delMsg:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/deleteMsg",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},addToSpmam:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/addToSpam",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},unmark:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/unmark",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},read:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/read",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"root"},[t.multiSelect[0]?i("div",{staticClass:"options"},[i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.unmark}},[t._v("Unmark")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.read}},[t._v("Mark as read")])]),t._v(" "),i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.addToSpmam}},[t._v("Mark as spam")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.delMsg}},[t._v("Delete")])])]):t._e(),t._v(" "),t.multiSelect[0]?i("div",{staticClass:"pusher"}):t._e(),t._v(" "),i("div",{staticClass:"page"},[i("div",{staticClass:"func",staticStyle:{"border-bottom":"1px solid rgb(191, 195, 201)",padding:"5px"}},[i("div",{staticStyle:{"margin-right":"auto",cursor:"pointer"},on:{click:t.markAll}},[i("i",{staticClass:"material-icons"},[t._v("done_all")])]),t._v(" "),i("div",{staticClass:"func",staticStyle:{"flex-grow":"1","margin-left":"15px"}},[i("div",{staticStyle:{display:"flex","align-items":"center","flex-grow":"1"}},[i("i",{staticClass:"material-icons",staticStyle:{"margin-right":"3px"}},[t._v("search")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticStyle:{"min-width":"200px",width:"45%"},attrs:{placeholder:"Search",id:"icon_prefix",type:"text"},domProps:{value:t.filter},on:{input:[function(e){e.target.composing||(t.filter=e.target.value)},function(e){return t.getMsgs()}]}})]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto","align-items":"center","justify-content":"center","margin-right":"15px"}},[i("div",{staticStyle:{margin:"5px 10px 0 0",cursor:"pointer"},on:{click:t.reload}},[i("i",{staticClass:"material-icons"},[t._v("refresh")])]),t._v(" "),i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n            "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n          ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])]),t._v(" "),i("div",{staticClass:"massages",attrs:{id:"msgBox"}},[t._l(t.msgData,function(e){return i("div",{staticClass:"msgBody",class:e.read?"read":""},[i("input",{staticClass:"checkboxMsg",attrs:{type:"checkbox"},domProps:{value:e.id?e.id:""},on:{click:function(e){return t.addSelect(e.target.value)}}}),t._v(" "),i("router-link",{staticClass:"msg",attrs:{to:e.id?t.$route.params.id?"/mailbox/"+t.$route.params.id+"/"+e.id:"/"+e.id:"/"}},[i("div",{staticClass:"from"},[t._v(t._s(e.from))]),t._v(" "),i("div",{staticClass:"subj"},[t._v(t._s(e.subject))]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto"}},[e.marked?i("i",{staticClass:"material-icons"},[t._v("bookmark_border")]):t._e(),t._v(" "),i("div",[t._v(t._s(e.date))])])])],1)}),t._v(" "),t.msgData[0]?t._e():i("div",{staticStyle:{margin:"10px"}},[t._v("No massages yet")])],2)]),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","border-top":"1px solid rgb(191, 195, 201)",margin:"5px 26px"}},[i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n      "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n    ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])},staticRenderFns:[]};var b=i("VU/8")(C,k,!1,function(t){i("MAqr")},"data-v-05bb773a",null).exports,w={name:"app-mail",data:function(){return{msg:{},chars:""}},created:function(){var t=this,e={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-for":this.$route.params.msg,"X-id":this.$route.params.id};this.$http.get("/api/massage",{headers:e}).then(function(e){e.body.err?t.$router.push({path:"/"}):(t.msg=e.body,t.msg.attachments[0]&&t.msg.attachments.forEach(function(t){console.log(t),t.content.data=new Uint8Array(t.content.data),t.content.url=URL.createObjectURL(new Blob([t.content.data],{type:t.contentType}))}),t.$forceUpdate())})}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"msg"},[i("div",{staticClass:"collection-item"},[i("div",{staticClass:"text"},[t._v("From:")]),t._v(" "),i("div",[t._v(t._s(t.msg.from))])]),t._v(" "),i("div",{staticClass:"collection-item"},[i("div",{staticClass:"text"},[t._v("To:")]),t._v(" "),i("div",[t._v(t._s(t.msg.to))])]),t._v(" "),i("div",{staticClass:"collection-item"},[i("div",{staticClass:"text"},[t._v("Subject:")]),t._v(" "),i("div",[t._v(t._s(t.msg.subject))])]),t._v(" "),i("div",{staticClass:"collection-item"},[i("div",{staticClass:"text"},[t._v("Date:")]),t._v(" "),i("div",[t._v(t._s(t.msg.date))])]),t._v(" "),i("div",{staticClass:"collection-item"},[i("div",{staticClass:"text"},[t._v("Server:")]),t._v(" "),i("div",[t._v(t._s(t.msg.server))])]),t._v(" "),t.msg.html?i("div",{staticClass:"collection-item",staticStyle:{padding:"10px"},domProps:{innerHTML:t._s(t.msg.html)}}):t._e(),t._v(" "),t.msg.html?t._e():i("div",{staticClass:"collection-item",staticStyle:{padding:"10px"},domProps:{textContent:t._s(t.msg.text)}}),t._v(" "),t.msg.attachments?i("div",{staticClass:"collection-item"},t._l(t.msg.attachments,function(e){return t.msg.attachments?i("div",{staticClass:"collection-item"},[i("a",{attrs:{href:e.content.url,download:""}},[t._v(t._s(e.fileName))])]):t._e()}),0):t._e()])},staticRenderFns:[]};var j=i("VU/8")(w,$,!1,function(t){i("4+AW")},"data-v-81a87624",null).exports,B={name:"app-spam",data:function(){return{counter:1,msgData:[],countMsg:1,multiSelect:[],loading:!1,filter:""}},created:function(){this.getMsgs()},computed:{maxPage:function(){var t=this.countMsg-this.countMsg%20;return t/=20,this.countMsg%20&&t++,t}},methods:{markAll:function(){for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].click()},addSelect:function(t){this.multiSelect.filter(function(e){return e==t})[0]?this.multiSelect=this.multiSelect.filter(function(e){return e!=t}):this.multiSelect.push(t)},reload:function(){this.counter=1,this.multiSelect=[],this.uncheckAll(),this.getMsgs(),window.scrollTo(0,0)},clickLeft:function(){this.counter<=1||(this.counter--,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},clickRight:function(){this.counter>=this.maxPage||(this.counter++,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},getMsgs:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0;var i={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-for":this.$route.params.id,"X-index":e.toString(),"X-filter":this.filter,"X-type":"spam"};this.$http.get("/api/massages",{headers:i}).then(function(e){t.loading=!1,e.body&&(t.countMsg=e.body.lengthMsg,t.msgData=e.body.data)})},uncheckAll:function(){this.multiSelect=[];for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].checked=!1},delMsg:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/deleteMsg",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},removeFromSpam:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/removeFromSpam",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},mark:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/mark",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},read:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/read",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"root"},[t.multiSelect[0]?i("div",{staticClass:"options"},[i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.mark}},[t._v("Mark")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.read}},[t._v("Mark as read")])]),t._v(" "),i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.removeFromSpam}},[t._v("Remove from spam")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.delMsg}},[t._v("Delete")])])]):t._e(),t._v(" "),t.multiSelect[0]?i("div",{staticClass:"pusher"}):t._e(),t._v(" "),i("div",{staticClass:"page"},[i("div",{staticClass:"func",staticStyle:{"border-bottom":"1px solid rgb(191, 195, 201)",padding:"5px"}},[i("div",{staticStyle:{"margin-right":"auto",cursor:"pointer"},on:{click:t.markAll}},[i("i",{staticClass:"material-icons"},[t._v("done_all")])]),t._v(" "),i("div",{staticClass:"func",staticStyle:{"flex-grow":"1","margin-left":"15px"}},[i("div",{staticStyle:{display:"flex","align-items":"center","flex-grow":"1"}},[i("i",{staticClass:"material-icons",staticStyle:{"margin-right":"3px"}},[t._v("search")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticStyle:{"min-width":"200px",width:"45%"},attrs:{placeholder:"Search",id:"icon_prefix",type:"text"},domProps:{value:t.filter},on:{input:[function(e){e.target.composing||(t.filter=e.target.value)},function(e){return t.getMsgs()}]}})]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto","align-items":"center","justify-content":"center","margin-right":"15px"}},[i("div",{staticStyle:{margin:"5px 10px 0 0",cursor:"pointer"},on:{click:t.reload}},[i("i",{staticClass:"material-icons"},[t._v("refresh")])]),t._v(" "),i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n            "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n          ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])]),t._v(" "),i("div",{staticClass:"massages",attrs:{id:"msgBox"}},[t._l(t.msgData,function(e){return i("div",{staticClass:"msgBody",class:e.read?"read":""},[i("input",{staticClass:"checkboxMsg",attrs:{type:"checkbox"},domProps:{value:e.id?e.id:""},on:{click:function(e){return t.addSelect(e.target.value)}}}),t._v(" "),i("router-link",{staticClass:"msg",attrs:{to:e.id?t.$route.params.id?"/mailbox/"+t.$route.params.id+"/"+e.id:"/"+e.id:"/"}},[i("div",{staticClass:"from"},[t._v(t._s(e.from))]),t._v(" "),i("div",{staticClass:"subj"},[t._v(t._s(e.subject))]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto"}},[e.marked?i("i",{staticClass:"material-icons"},[t._v("bookmark_border")]):t._e(),t._v(" "),i("div",[t._v(t._s(e.date))])])])],1)}),t._v(" "),t.msgData[0]?t._e():i("div",{staticStyle:{margin:"10px"}},[t._v("No massages yet")])],2)]),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","border-top":"1px solid rgb(191, 195, 201)",margin:"5px 26px"}},[i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n      "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n    ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])},staticRenderFns:[]};var E=i("VU/8")(B,I,!1,function(t){i("Y44E")},"data-v-00fb3054",null).exports,T={name:"app-new",data:function(){return{counter:1,msgData:[],countMsg:1,multiSelect:[],loading:!1,filter:""}},created:function(){this.getMsgs()},computed:{maxPage:function(){var t=this.countMsg-this.countMsg%20;return t/=20,this.countMsg%20&&t++,t}},methods:{markAll:function(){for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].click()},addSelect:function(t){this.multiSelect.filter(function(e){return e==t})[0]?this.multiSelect=this.multiSelect.filter(function(e){return e!=t}):this.multiSelect.push(t)},reload:function(){this.counter=1,this.multiSelect=[],this.uncheckAll(),this.getMsgs(),window.scrollTo(0,0)},clickLeft:function(){this.counter<=1||(this.counter--,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},clickRight:function(){this.counter>=this.maxPage||(this.counter++,this.multiSelect=[],this.uncheckAll(),this.getMsgs(this.counter-1),document.getElementById("msgBox").scrollTop=0)},getMsgs:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0;var i={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-for":this.$route.params.id,"X-index":e.toString(),"X-filter":this.filter,"X-type":"new"};this.$http.get("/api/massages",{headers:i}).then(function(e){t.loading=!1,e.body&&(t.countMsg=e.body.lengthMsg,t.msgData=e.body.data)})},uncheckAll:function(){this.multiSelect=[];for(var t=0;t<document.getElementById("msgBox").children.length;t++)document.getElementById("msgBox").children[t].children[0].checked=!1},delMsg:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/deleteMsg",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},addToSpmam:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/addToSpam",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},mark:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/mark",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})},read:function(){for(var t=this,e="",i=0;i<this.multiSelect.length;i++)e+=this.multiSelect[i]+",";var a={"Content-Type":"application/json",authorization:localStorage.getItem("jwt"),"X-index":e,"X-for":this.$route.params.id};this.$http.get("/api/read",{headers:a}).then(function(e){!e.body&&e.body.err||(t.uncheckAll(),t.getMsgs(t.counter-1))})}}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"root"},[t.multiSelect[0]?i("div",{staticClass:"options"},[i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.mark}},[t._v("Mark")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.read}},[t._v("Mark as read")])]),t._v(" "),i("div",{staticStyle:{display:"flex","flex-grow":"1","justify-content":"space-around","align-items":"center"}},[i("div",{staticClass:"item",on:{click:t.addToSpmam}},[t._v("Mark as spam")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.delMsg}},[t._v("Delete")])])]):t._e(),t._v(" "),t.multiSelect[0]?i("div",{staticClass:"pusher"}):t._e(),t._v(" "),i("div",{staticClass:"page"},[i("div",{staticClass:"func",staticStyle:{"border-bottom":"1px solid rgb(191, 195, 201)",padding:"5px"}},[i("div",{staticStyle:{"margin-right":"auto",cursor:"pointer"},on:{click:t.markAll}},[i("i",{staticClass:"material-icons"},[t._v("done_all")])]),t._v(" "),i("div",{staticClass:"func",staticStyle:{"flex-grow":"1","margin-left":"15px"}},[i("div",{staticStyle:{display:"flex","align-items":"center","flex-grow":"1"}},[i("i",{staticClass:"material-icons",staticStyle:{"margin-right":"3px"}},[t._v("search")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticStyle:{"min-width":"200px",width:"45%"},attrs:{placeholder:"Search",id:"icon_prefix",type:"text"},domProps:{value:t.filter},on:{input:[function(e){e.target.composing||(t.filter=e.target.value)},function(e){return t.getMsgs()}]}})]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto","align-items":"center","justify-content":"center","margin-right":"15px"}},[i("div",{staticStyle:{margin:"5px 10px 0 0",cursor:"pointer"},on:{click:t.reload}},[i("i",{staticClass:"material-icons"},[t._v("refresh")])]),t._v(" "),i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n            "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n          ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])]),t._v(" "),i("div",{staticClass:"massages",attrs:{id:"msgBox"}},[t._l(t.msgData,function(e){return i("div",{staticClass:"msgBody",class:e.read?"read":""},[i("input",{staticClass:"checkboxMsg",attrs:{type:"checkbox"},domProps:{value:e.id?e.id:""},on:{click:function(e){return t.addSelect(e.target.value)}}}),t._v(" "),i("router-link",{staticClass:"msg",attrs:{to:e.id?t.$route.params.id?"/mailbox/"+t.$route.params.id+"/"+e.id:"/"+e.id:"/"}},[i("div",{staticClass:"from"},[t._v(t._s(e.from))]),t._v(" "),i("div",{staticClass:"subj"},[t._v(t._s(e.subject))]),t._v(" "),i("div",{staticStyle:{display:"flex","margin-left":"auto"}},[e.marked?i("i",{staticClass:"material-icons"},[t._v("bookmark_border")]):t._e(),t._v(" "),i("div",[t._v(t._s(e.date))])])])],1)}),t._v(" "),t.msgData[0]?t._e():i("div",{staticStyle:{margin:"10px"}},[t._v("No massages yet")])],2)]),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","border-top":"1px solid rgb(191, 195, 201)",margin:"5px 26px"}},[i("div",{staticStyle:{margin:"5px 8px"}},[t._v("\n      "+t._s(t.counter)+" of "+t._s(t.maxPage)+"\n    ")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickLeft}},[t._v("chevron_left")]),t._v(" "),i("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:t.clickRight}},[t._v("chevron_right")])])])])},staticRenderFns:[]};var X=i("VU/8")(T,A,!1,function(t){i("3grW")},"data-v-34bd739f",null).exports,P={name:"send",data:function(){return{attachments:{}}},methods:{addAttachment:function(t){t[0]&&(t=t[0],this.attachments[t.name]=t,document.getElementById("attachmentsBox").innerHTML+='<div id="'+t.name+'" style="display: flex;border-bottom: 1px solid;margin: 5px">'+t.name+"</div>")},clear:function(){document.getElementById("to").value="",document.getElementById("from").value="",document.getElementById("subject").value="",document.getElementById("text").value="",this.attachments=[],document.getElementById("attachmentsBox").innerHTML=""},send:function(){var t=this,e=new FormData;for(var i in e.append("to",document.getElementById("to").value),e.append("from",document.getElementById("from").value+"@onyame.ml"),e.append("subject",document.getElementById("subject").value),e.append("text",document.getElementById("text").value),this.attachments)e.append(this.attachments[i].name,this.attachments[i]);this.$http.post("/api/send",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){e.body.success?(M.toast({html:"Massage send"}),t.$router.go()):(M.toast({html:"Sending error"}),t.$router.go())})}}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"main",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"line",attrs:{id:"attachmentsBox"}}),t._v(" "),i("div",{staticClass:"line"},[i("div",{staticClass:"text"},[t._v("Attachments:")]),t._v(" "),i("input",{staticClass:"input",attrs:{type:"file",value:"Add"},on:{input:function(e){return t.addAttachment(e.target.files)}}})]),t._v(" "),i("div",{staticClass:"line",staticStyle:{"justify-content":"center"}},[i("input",{staticClass:"submit",attrs:{type:"button",value:"Send"},on:{click:function(e){return t.send()}}}),i("input",{staticClass:"submit",attrs:{type:"button",value:"Clear"},on:{click:function(e){return t.clear()}}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line"},[e("div",{staticClass:"text"},[this._v("To:")]),this._v(" "),e("input",{staticClass:"input",attrs:{id:"to",type:"text"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line"},[e("div",{staticClass:"text"},[this._v("From:")]),this._v(" "),e("input",{staticClass:"input",attrs:{id:"from",type:"text"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line"},[e("div",{staticClass:"text"},[this._v("Subject:")]),this._v(" "),e("input",{staticClass:"input",attrs:{id:"subject",type:"text"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line"},[e("div",{staticClass:"text"},[this._v("Text:")]),this._v(" "),e("textarea",{staticClass:"input",staticStyle:{"min-height":"200px","max-width":"90%"},attrs:{name:"text",id:"text",cols:"30",rows:"10"}})])}]};var L=i("VU/8")(P,R,!1,function(t){i("HwFU")},"data-v-358f0f74",null).exports;var z=function(t,e,i){var a,s,n;a="/api/get_admin",s=function(t){t.success?i(!0):i(!1)},(n=new XMLHttpRequest).onreadystatechange=function(){4==n.readyState&&200==n.status&&s(JSON.parse(n.responseText))},n.open("GET",a,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",localStorage.getItem("jwt")),n.send(null)};var N=i("8+8L");a.a.use(m.a),a.a.use(N.a);var F=new m.a({mode:"history",routes:[{path:"/login",name:"login",component:p},{path:"/",name:"app-main",component:_},{path:"/new",name:"app-new",component:X},{path:"/send",name:"app-send",component:L,beforeEnter:z},{path:"/marked",name:"app-marked",component:b},{path:"/spam",name:"app-spam",component:E},{path:"/mailbox",name:"app-mailboxes",component:S,beforeEnter:z},{path:"/mailbox/:id",name:"app-mailbox",component:_,beforeEnter:z},{path:"/mailbox/:id/new",name:"app-mailbox-new",component:X,beforeEnter:z},{path:"/mailbox/:id/marked",name:"app-mailbox-marked",component:b,beforeEnter:z},{path:"/mailbox/:id/spam",name:"app-mailbox-spam",component:E,beforeEnter:z},{path:"/:id",name:"msg",component:j},{path:"/mailbox/:msg/:id",name:"msg",component:j,beforeEnter:z},{path:"*",name:"404",redirect:"/"}]});F.beforeEach(function(t,e,i){var a,n,r;"/login"!=t.fullPath||s.user||localStorage.getItem("jwt")?s.user&&!localStorage.getItem("jwt")?(s.user={},i("/login")):localStorage.getItem("jwt")&&s.user?"/login"==t.fullPath?i(e.fullPath):i(!0):localStorage.getItem("jwt")?(a="/api/authorization",n=function(a){a.success?(localStorage.setItem("email",a.user.email),s.user=a.user,"/login"==t.fullPath?"/login"==e.fullPath?i("/"):i(e.fullPath):i(!0)):(localStorage.removeItem("jwt"),i("/login"))},(r=new XMLHttpRequest).onreadystatechange=function(){4==r.readyState&&200==r.status&&n(JSON.parse(r.responseText))},r.open("GET",a,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization",localStorage.getItem("jwt")),r.send(null)):i("/login"):i(!0)});var D=F;a.a.config.productionTip=!1,new a.a({el:"#app",router:D,components:{App:u},template:"<App/>"})},No7Y:function(t,e){},PwQm:function(t,e){},Y44E:function(t,e){},hGFa:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6d55173afdbc2e0b9972.js.map